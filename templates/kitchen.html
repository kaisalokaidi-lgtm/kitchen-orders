
<!DOCTYPE html>
<html>
<head>
    <title>Kitchen</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container py-5">
<h2>ğŸ‘¨â€ğŸ³ Kitchen Orders</h2>
<table class="table mt-4">
<thead>
<tr><th>Name</th><th>Cheese</th><th>Status</th><th></th></tr>
</thead>
<tbody id="orders"></tbody>
</table>
<script>
async function loadOrders() {
    const res = await fetch("/api/orders");
    const orders = await res.json();
    const tbody = document.getElementById("orders");
    tbody.innerHTML = "";
    orders.forEach(o => {
        tbody.innerHTML += `
        <tr>
            <td>${o.name}</td>
            <td>${o.cheese === "True" ? "ğŸ§€" : "âŒ"}</td>
            <td>${o.status}</td>
            <td>${o.status === "pending" ? `<button class="btn btn-success btn-sm" onclick="markReady(${o.id})">Ready</button>` : ""}</td>
        </tr>`;
    });
}
async function markReady(id) {
    await fetch(`/api/orders/${id}/ready`, { method: "POST" });
    loadOrders();
}
loadOrders();
setInterval(loadOrders, 2000);
</script>
</body>
</html>
